<!doctype html>
<html>

<head>
    <title>Animate at Random</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>

<!-- Page Content Start -->
<body>
<div id="container">
<div id="image-container" class="animate__animated">
<img id="image" src="https://images.unsplash.com/photo-1608500479600-212f8886141a?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80" alt="Unsplash Image">
</div>
    <div id="animate-button">Animate</div>
</div>
</body>
<!-- Page Content End -->

<!-- Page Content Styling Start-->
<style>
    #image {
        width: 100%;
        height: 100%;
    }
    #image-container {
        margin: 80px 0;
        max-width: 400px;
        height: auto;
        padding: 10px;
        box-shadow: 0 0 1px 1px rgba(34,40,51,0.5);
        border-radius: 2px;
    }
    #container {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }
    #animate-button {
        cursor: pointer;
        font-family: Roboto, serif;
        font-size: 24px;
        padding: 12px 16px;
        border-radius: 2px;
        color: #ffffff;
        background-color: #3ac984;
        margin-top: 10px;
    }
    #animate-button:hover {
        opacity: 0.7;
    }
</style>
<!-- Page Content Styling End -->

<script>
    const animateButton = document.querySelector("#animate-button");
    // Apply animation styles
    const animateCSS = (element, animation, prefix = 'animate__') => {
        return new Promise((resolve, reject) => {
            const animationName = `${prefix}${animation}`;
            const node = document.querySelector(element);
            node.classList.add(`${prefix}animated`, animationName);
            // When the animation ends, we clean the classes and resolve the Promise
            function handleAnimationEnd() {
                node.classList.remove(`${prefix}animated`, animationName);
                resolve('Animation ended');
            }
            node.addEventListener('animationend', handleAnimationEnd, {once: true});
        });
    };
    // Make the image frame animate with a random animation on click
    animateButton.addEventListener('click', ()=>{
        const animations = ["bounce", "flash", "wobble", "swing", "hello", "heartBeat"];
        animateCSS("#image-container", animations[Math.floor(Math.random()*6)])
    });
</script>
</html>